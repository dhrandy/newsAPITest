<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>News</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />

  <style>
  
    .border {
      margin-bottom: 20px;
      margin-top: 20px;
      border: 1px solid slategrey;
    }

    h2 {
      margin-bottom: 20px;
      text-align: center;
    }

    .test {
      height: 170px;
      width: 170px;
      object-fit: cover;
      float: left;
      /* padding: 5px; */
      margin-right: 20px;
      /* border-right: 1px solid lightgray; */
    }

    .bold {
      font-weight: bold;
    }

    .font {
      font-size: 18px;
    }

    
  
  </style>
</head>

<body>
  <div class="container">

  <div>
    <h2>Working News API from newsAPI.org</h2>
  </div>  
    
  <div class = "news">
     <!-- News Goes Here  -->
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">
    // The below code fills rows of the table

    var newsAPI= "cryptocurrency";
    var queryURL = "https://newsapi.org/v2/everything?q=" + newsAPI + "&sortBy=popularity&apiKey=e025795e658e491b843e854c595effd9";

    $.ajax({
      url: queryURL,
      method: "GET"
    }).then(function(response) {

      var tDiv = $(".news");
      var i = 0;
      // var myImage = new Image(100, 100);
      
      for (i = 0; i < 10; i++) {

      // var image = ('<img src="'+ imageSource);
      var newsImage = $("<img / class = 'test'>").attr('src', response.articles[i].urlToImage);
      var newsSource = $("<p>").text(response.articles[i].source.name);
      var newsAuthor = $("<p class = 'bold'>").text("Author: " + response.articles[i].author);
      var newsTitle = $("<p class = 'bold font'>").text(response.articles[i].title);
      var newsDescription = $("<p>").text(response.articles[i].description);
      var newsURL = $("<p>").html(response.articles[i].url);
      var newsBorder = $("<p class = 'border'>");

      // $( "img" ).addClass( "test" );

      $('<p>').empty().append(newsImage);
      tDiv.append(newsImage,newsTitle,newsAuthor,newsDescription,newsURL,newsBorder)
      // tDiv.append($img,newsSource,newsAuthor,newsTitle,newsURL,newsBorder)
      }
      
    });

  </script>
</body>

</html>
